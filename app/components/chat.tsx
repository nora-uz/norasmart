"use client";
import React, { useState, useEffect, useRef } from "react";

const NORA_COLOR = "#2e2e2e";
const ICON_SIZE = 23;
const borderRadius = 22;
const panelHeight = 62;
const maxWidth = 560;
const videoMaxWidth = 314;
const GRADIENT = "linear-gradient(90deg, #eff5fe 0%, #e5e8ed 100%)";
const BABY_GRADIENT = "linear-gradient(90deg, #e39290 0%, #efb1b6 100%)";
const INPUT_BAR_HEIGHT = 68;
const PANEL_SIDE_PADDING = 15;
const BLOCK_SIDE_PADDING = 10;
const CARD_GAP = 10;

const ICONS = {
  telegram: "https://cdn-icons-png.flaticon.com/512/1946/1946547.png",
  trash: "https://cdn-icons-png.flaticon.com/512/1345/1345823.png",
  share: "https://cdn-icons-png.flaticon.com/512/535/535285.png",
  arrowRight: (
    <svg width="22" height="22" viewBox="0 0 22 22" fill="none">
      <path d="M6 11H16M16 11L12 7M16 11L12 15"
        stroke="#fff" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
    </svg>
  ),
};
const filterNora = "invert(13%) sepia(4%) saturate(271%) hue-rotate(175deg) brightness(92%) contrast(93%)";

const BENEFITS = [
  { emoji: "ü©∫", title: "–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å", text: "–°–æ–≤–µ—Ç—ã –æ—Å–Ω–æ–≤–∞–Ω—ã –Ω–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è—Ö –±—Ä–∏—Ç–∞–Ω—Å–∫–æ–π —Å–ª—É–∂–±—ã NHS –∏ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω—ã –ø–æ–¥ –≤–∞—à —Ä–µ–≥–∏–æ–Ω." },
  { emoji: "ü§ù", title: "–ü–æ–¥–¥–µ—Ä–∂–∫–∞ 24/7", text: "–ê—Å—Å–∏—Å—Ç–µ–Ω—Ç –≤—Å–µ–≥–¥–∞ –Ω–∞ —Å–≤—è–∑–∏ –¥–ª—è –∑–∞–±–æ—Ç—ã –∏ –ø–æ–º–æ—â–∏ –≤ –ª—é–±–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏." },
  { emoji: "‚è∞", title: "–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ –≤–∞–∂–Ω—ã—Ö –¥–µ–ª–∞—Ö", text: "–°–ª–µ–¥–∏–º, —á—Ç–æ–±—ã –≤—ã –Ω–∏—á–µ–≥–æ –Ω–µ –∑–∞–±—ã–ª–∏ ‚Äî –∞–Ω–∞–ª–∏–∑—ã, –≤–∏—Ç–∞–º–∏–Ω—ã, –≤–∏–∑–∏—Ç—ã." },
  { emoji: "üîí", title: "–ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å", text: "–õ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ—Å—Ç–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —É –≤–∞—Å ‚Äî –Ω–∏–∫–∞–∫–æ–π –ø–µ—Ä–µ–¥–∞—á–∏ —Å—Ç–æ—Ä–æ–Ω–Ω–∏–º." },
  { emoji: "‚ö°Ô∏è", title: "–ë—ã—Å—Ç—Ä—ã–µ —Ä–µ—à–µ–Ω–∏—è", text: "–ü–æ–ª–µ–∑–Ω—ã–µ —Å–æ–≤–µ—Ç—ã –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—Ä–∞–∑—É, –∫–æ–≥–¥–∞ —ç—Ç–æ –Ω—É–∂–Ω–æ." },
];

const WhyNoraBlock = () => (
  <div
    style={{
      width: `calc(100% - ${BLOCK_SIDE_PADDING * 2}px)`,
      maxWidth,
      margin: "0 auto 38px auto",
      background: GRADIENT,
      borderRadius: borderRadius,
      boxShadow: "0 6px 20px 0 rgba(150, 175, 205, 0.10)",
      boxSizing: "border-box",
      padding: 0,
      fontFamily: "'Manrope', Arial, Helvetica, sans-serif"
    }}
  >
    <div style={{ padding: `21px 0 20px 0` }}>
      <div style={{
        fontWeight: 700,
        fontSize: "20px",
        color: NORA_COLOR,
        marginBottom: 20,
        textAlign: "center"
      }}>
        –ü–æ—á–µ–º—É Nora Plus?
      </div>
      <div style={{
        display: "flex",
        flexDirection: "column",
        gap: CARD_GAP,
        padding: `0 ${BLOCK_SIDE_PADDING}px`
      }}>
        {BENEFITS.map(({ emoji, title, text }, idx) => (
          <div
            key={idx}
            style={{
              position: "relative",
              background: "#fff",
              borderRadius: 18,
              boxShadow: "0 2px 18px 0 rgba(150,180,220,0.07)",
              padding: "19px 15px 19px 15px",
              overflow: "hidden",
              minHeight: 56,
              textAlign: "left"
            }}
          >
            <span
              style={{
                position: "absolute",
                right: 12,
                top: 14,
                fontSize: 62,
                opacity: 0.14,
                pointerEvents: "none",
                userSelect: "none",
                lineHeight: 1,
                zIndex: 0,
              }}
              aria-hidden="true"
            >
              {emoji}
            </span>
            <div style={{ position: "relative", zIndex: 1 }}>
              <div style={{ fontWeight: 700, fontSize: 16, color: NORA_COLOR, marginBottom: 7, textAlign: "left" }}>
                {title}
              </div>
              <div style={{ fontSize: 13, color: "#3a3a3a", lineHeight: "1.64", textAlign: "left" }}>
                {text}
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </div>
);

const REVIEWS = [
  {
    name: "–ê–Ω–Ω–∞",
    badge: "2 –º–µ—Å—è—Ü –±–µ—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç–∏",
    problem: "–¢–æ–∫—Å–∏–∫–æ–∑",
    text: "Nora Plus –ø–æ–¥—Å–∫–∞–∑–∞–ª–∞, –∫–∞–∫ —Å–ø—Ä–∞–≤–∏—Ç—å—Å—è —Å —É—Ç—Ä–µ–Ω–Ω–µ–π —Ç–æ—à–Ω–æ—Ç–æ–π. –ë–ª–∞–≥–æ–¥–∞—Ä—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º –ø–æ –ø–∏—Ç–∞–Ω–∏—é –∏ —Ä–µ–∂–∏–º—É –¥–Ω—è —Å–∏–º–ø—Ç–æ–º—ã —Å—Ç–∞–ª–∏ –≥–æ—Ä–∞–∑–¥–æ –ª–µ–≥—á–µ."
  },
  {
    name: "Dilnoza",
    badge: "Homiladorlik 3 oy",
    problem: "Ko'ngil aynishi",
    text: "Nora Plus maslahatlari yordam berdi va ko‚Äòngil aynishini yengillashtirdi. Hamma maslahatlar o‚Äòz vaqtida etkaziladi."
  },
  {
    name: "–ï–ª–µ–Ω–∞",
    badge: "4 –º–µ—Å—è—Ü –±–µ—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç–∏",
    problem: "–°–ª–∞–±–æ—Å—Ç—å –∏ —É—Å—Ç–∞–ª–æ—Å—Ç—å",
    text: "–¢–µ–ø–µ—Ä—å —è –∑–Ω–∞—é, –∫–∞–∫–∏–µ –≤–∏—Ç–∞–º–∏–Ω—ã –Ω—É–∂–Ω—ã, —Å–∫–æ–ª—å–∫–æ –æ—Ç–¥—ã—Ö–∞—Ç—å –∏ –∫–∞–∫ —Å—Ç—Ä–æ–∏—Ç—å –¥–µ–Ω—å. –ß—É–≤—Å—Ç–≤—É—é —Å–µ–±—è –≤ —Ä–∞–∑—ã –ª—É—á—à–µ!"
  },
  {
    name: "Shahnoza",
    badge: "Homiladorlik 5 oy",
    problem: "Kayfiyat pastligi",
    text: "Nora Plus motivatsion so‚Äòzlari –≤–∞ ijobiy maslahatlari orqali kayfiyatim ancha yaxshilandi."
  },
  {
    name: "–ò—Ä–∏–Ω–∞",
    badge: "5 –º–µ—Å—è—Ü –±–µ—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç–∏",
    problem: "–¢—Ä–µ–≤–æ–∂–Ω–æ—Å—Ç—å",
    text: "–°–æ–≤–µ—Ç—ã Nora Plus –ø–æ–º–æ–≥–ª–∏ –º–Ω–µ –±–æ–ª—å—à–µ –æ—Ç–¥—ã—Ö–∞—Ç—å, –∑–∞–±–æ—Ç–∏—Ç—å—Å—è –æ —Å–µ–±–µ –∏ –∏–∑–±–∞–≤–∏–ª–∏ –æ—Ç –ª–∏—à–Ω–∏—Ö –ø–µ—Ä–µ–∂–∏–≤–∞–Ω–∏–π –∑–∞ –º–∞–ª—ã—à–∞."
  },
  {
    name: "–ú–∞—Ä–∏—è",
    badge: "7 –º–µ—Å—è—Ü –±–µ—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç–∏",
    problem: "–ë–µ—Å—Å–æ–Ω–Ω–∏—Ü–∞",
    text: "–ë–ª–∞–≥–æ–¥–∞—Ä—è —Å–æ–≤–µ—Ç–∞–º Nora Plus —è —Å—Ç–∞–ª–∞ –ª—É—á—à–µ —Å–ø–∞—Ç—å –∏ —Å–ø–æ–∫–æ–π–Ω–æ –¥–æ–∂–∏–¥–∞—é—Å—å —Ä–æ–∂–¥–µ–Ω–∏—è –º–∞–ª—ã—à–∞."
  },
  {
    name: "–í–∏–∫—Ç–æ—Ä–∏—è",
    badge: "3 –º–µ—Å—è—Ü –±–µ—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç–∏",
    problem: "–°—Ç—Ä–∞—Ö–∏",
    text: "Nora Plus –ø–æ–º–æ–≥–ª–∞ —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è —Å —Ç—Ä–µ–≤–æ–≥–∞–º–∏ –∏ –ø–æ–¥–¥–µ—Ä–∂–∞–ª–∞ —Å–æ–≤–µ—Ç–∞–º–∏, —Ç–µ–ø–µ—Ä—å —á—É–≤—Å—Ç–≤—É—é —Å–µ–±—è —É–≤–µ—Ä–µ–Ω–Ω–µ–µ."
  },
  {
    name: "–ï–∫–∞—Ç–µ—Ä–∏–Ω–∞",
    badge: "6 –º–µ—Å—è—Ü –±–µ—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç–∏",
    problem: "–ü–∏—Ç–∞–Ω–∏–µ",
    text: "–ê—Å—Å–∏—Å—Ç–µ–Ω—Ç –Ω–∞–ø–æ–º–Ω–∏–ª –ø—Ä–æ –≤–∞–∂–Ω—ã–µ –≤–∏—Ç–∞–º–∏–Ω—ã –∏ —Ä–µ–∂–∏–º, —Ç–µ–ø–µ—Ä—å –ø–∏—Ç–∞—é—Å—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏ —á—É–≤—Å—Ç–≤—É—é —Å–µ–±—è —ç–Ω–µ—Ä–≥–∏—á–Ω–æ–π."
  },
  {
    name: "Gulnora",
    badge: "Homiladorlik 2 oy",
    problem: "Uyqu buzilishi",
    text: "Nora bilan maslahatlashib, uyqum tiklandi va endi tongni yaxshi kutaman."
  },
  {
    name: "Malika",
    badge: "Homiladorlik 8 oy",
    problem: "Asabiylik",
    text: "Homiladorlikda asabiy bo‚Äòlib qolgandim, Nora maslahatlari yordam berdi –≤–∞ kayfiyat–∏–º ko‚Äòtarildi."
  },
  {
    name: "Lola",
    badge: "Homiladorlik 4 oy",
    problem: "Oqsil yetishmaydi",
    text: "To‚Äòg‚Äòri ovqat–ª–∞–Ωish bo‚Äòyicha maslahatlar judayam foydali bo‚Äòldi, endi o‚Äòzimda kuch topyapman."
  },
];

const ReviewBlock = () => (
  <div
    style={{
      width: `calc(100% - ${BLOCK_SIDE_PADDING * 2}px)`,
      maxWidth,
      margin: "0 auto 38px auto",
      background: GRADIENT,
      borderRadius: borderRadius,
      boxShadow: "0 6px 20px 0 rgba(150, 175, 205, 0.10)",
      boxSizing: "border-box",
      padding: 0,
      fontFamily: "'Manrope', Arial, Helvetica, sans-serif"
    }}
  >
    <div style={{ padding: "21px 0 20px 0" }}>
      <div style={{
        fontWeight: 700,
        fontSize: "20px",
        color: NORA_COLOR,
        marginBottom: 20,
        textAlign: "center"
      }}>
        –û—Ç–∑—ã–≤—ã –±—É–¥—É—â–∏—Ö –º–∞–º
      </div>
      <div style={{
        display: "flex",
        flexDirection: "column",
        gap: CARD_GAP,
        padding: `0 ${BLOCK_SIDE_PADDING}px`
      }}>
        {REVIEWS.map(({ name, badge, problem, text }, idx) => (
          <div
            key={idx}
            style={{
              position: "relative",
              background: "#fff",
              borderRadius: 18,
              boxShadow: "0 2px 18px 0 rgba(150,180,220,0.07)",
              padding: "19px 15px 19px 15px",
              overflow: "hidden",
              textAlign: "left"
            }}
          >
            <div style={{ position: "relative", zIndex: 1 }}>
              <div style={{ display: "flex", alignItems: "center", gap: 8, marginBottom: 7 }}>
                <span style={{
                  fontWeight: 700, fontSize: 15, color: "#222"
                }}>
                  {name}
                </span>
                <span style={{
                  fontWeight: 500, fontSize: 13, color: "#1681f5",
                  padding: "4px 9px", borderRadius: 12, background: "#f3f7fe", whiteSpace: "nowrap"
                }}>
                  {badge}
                </span>
              </div>
              <div style={{ fontWeight: 500, fontSize: 13, color: "#acb5bd", marginBottom: 9 }}>
                {problem}
              </div>
              <div style={{ fontSize: 13, color: "#3a3a3a", lineHeight: "1.64" }}>
                {text}
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  </div>
);

const Footer = () => (
  <div style={{
    width: `calc(100% - ${BLOCK_SIDE_PADDING * 2}px)`,
    maxWidth,
    margin: "0 auto 0 auto",
    padding: "0 0 8px 0",
    background: GRADIENT,
    borderRadius: "22px",
    boxShadow: "0 -4px 14px 0 rgba(155,175,205,0.06)",
    boxSizing: "border-box",
    fontFamily: "'Manrope', Arial, Helvetica, sans-serif",
    display: "flex",
    flexDirection: "column",
    gap: 13,
    alignItems: "center"
  }}>
    <div style={{
      fontSize: 13,
      color: "#263540",
      fontWeight: 600,
      textAlign: "center",
      width: "100%",
      minWidth: "220px",       // –°—Ç–∞–≤–∏–º –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é —à–∏—Ä–∏–Ω—É –¥–ª—è —Å–∏–º–º–µ—Ç—Ä–∏–∏ –¥–∞–ª—å–Ω–µ–π—à–∏—Ö –±–ª–æ–∫–æ–≤
      padding: "12px 0"
    }}>
      –¢–∞—à–∫–µ–Ω—Ç, –Æ–Ω—É—Å–∞–±–∞–¥—Å–∫–∏–π —Ä–∞–π–æ–Ω, –º–∞—Å—Å–∏–≤ –ö–∞—à–≥–∞—Ä 26
    </div>
    <div style={{
      display: "flex",
      justifyContent: "center",
      width: "100%",
      gap: 0,
      margin: 0,
    }}>
      <a href="#" style={{
        background: BABY_GRADIENT,
        flex: 1,
        textAlign: "center",
        borderRadius: 14,
        color: "#fff",
        fontWeight: 600,
        fontSize: 14,
        padding: "7px 0",
        marginRight: 8,
        textDecoration: "none",
        minWidth: "120px",
      }}>–°—Ç–∞—Ç—å –ø–∞—Ä—Ç–Ω—ë—Ä–æ–º</a>
      <a href="#" style={{
        background: BABY_GRADIENT,
        flex: 1,
        textAlign: "center",
        borderRadius: 14,
        color: "#fff",
        fontWeight: 600,
        fontSize: 14,
        padding: "7px 0",
        marginLeft: 8,
        textDecoration: "none",
        minWidth: "120px"
      }}>–°–≤—è–∑–∞—Ç—å—Å—è —Å –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º</a>
    </div>
    <a href="#" style={{
      background: "#fff",
      padding: "8px 0",
      width: "100%",
      borderRadius: 14,
      color: "#556",
      fontWeight: 500,
      fontSize: 14,
      textDecoration: "none",
      border: "1px solid #e1e9f5",
      textAlign: "center",
      marginTop: 13,
      minWidth: "220px"
    }}>–ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</a>
    <div style={{
      marginTop: 12,
      fontSize: 12,
      color: "#8a97a0",
      textAlign: "center",
      width: "100%"
    }}>
      ¬© {new Date().getFullYear()} Nora Plus ‚Äî –∑–∞–±–æ—Ç–∞ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –±—É–¥—É—â–∏—Ö –º–∞–º
    </div>
    <div style={{ height: 20 }} />
  </div>
);

// –û—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ (–ª–æ–≥–∏–∫–∞ —á–∞—Ç–∞, input, panel) –±—Ä–∞—Ç—å —Å—Ç—Ä–æ–≥–æ –∏–∑ –≤–∞—à–µ–≥–æ –≤—Ç–æ—Ä–æ–≥–æ –±–ª–æ–∫–∞
// –°–æ—Å—Ç–æ—è–Ω–∏—è –∏ –≤—Å—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —á–∞—Ç–∞ –æ—Å—Ç–∞—é—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤–∞—à–∏–º–∏

// –ö—É—Å–æ–∫ —á–∞—Ç–∞ –∏ input –±–µ—Ä—ë–º —Å—Ç—Ä–æ–≥–æ –∏–∑ –≤–∞—à–µ–≥–æ –≤—Ç–æ—Ä–æ–≥–æ –∫–æ–¥–∞!

// –í–ê–ñ–ù–û: welcome-—ç–∫—Ä–∞–Ω (–∏ –≤—Å—ë, —á—Ç–æ –î–û –∫–Ω–æ–ø–∫–∏ –Ω–∞—á–∞—Ç—å) ‚Äî –±–µ—Ä—ë–º –∏–∑ –ü–ï–†–í–û–ì–û –∫–æ–¥–∞, –∫—Ä–æ–º–µ –∏–Ω–ø—É—Ç–∞!
// –ü–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è "–ù–∞—á–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è" ‚Äî –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —á–∞—Ç –∏ input –∫–∞–∫ –≤–æ –≤—Ç–æ—Ä–æ–º –∫–æ–¥–µ!

export default function Chat() {
  // ... –í–°–Ø –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤, —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–∞–∫ –≤–æ –≤—Ç–æ—Ä–æ–º –∫–æ–¥–µ ...
}
